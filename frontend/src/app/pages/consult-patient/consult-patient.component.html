<div style="min-height: 200vh; background-color: #f0f4fa; padding-top: 30px">
  <!-- NAVBAR -->
  <div class="navbar w-11/12 mx-auto flex items-center py-5" style="gap: 20px">
    <div class="w-[30%] flex justify-end">
      <img src="/logo.svg" alt="MedFlow Logo" class="w-1/2" />
    </div>
    <div
      class="relative w-full max-w-[8000px] ml-5 px-5 flex items-center justify-between"
      style="
        height: 50px;
        border: 1px solid #d3d3d3;
        border-radius: 12px;
        background-color: #fff;
      "
    >
      <div class="flex items-center pl-4" style="gap: 20px">
        <img
          src="/profil.png"
          alt="Key Icon"
          class="h-8 w-8"
          style="margin-left: 15px"
        />
        <p class="text-sm" style="color: #666666">Bienvenue Mr.</p>
      </div>
    </div>
  </div>

  <!-- BUTTON AND TEXTS -->
  <div class="flex items-center" style="margin-top: 20px; padding: 0 70px">
    <div style="color: #666666; flex: 1">
      <span style="font-weight: bold">CONSULTATION:</span>
      <p>{{ CONSULTATION.data.date }}</p>
      <p style="font-weight: bold">Dr. {{ CONSULTATION.data.medecin }}</p>
    </div>

    <div style="flex: 2"></div>

    <div>
      <button
        class="text-white px-8 py-2"
        style="
          background-color: #027cc0;
          border-radius: 12px;
          height: 35px;
          width: 280px;
          cursor: pointer;
          transition: background-color 0.2s;
        "
        onmouseover="this.style.backgroundColor='#0263a0'"
        onmouseout="this.style.backgroundColor='#027cc0'"
        onclick="alert('Certificate requested')"
      >
        Demander Certificat
      </button>
    </div>
  </div>

  <!-- Documents and sections -->
  <div style="margin-top: 60px; padding: 0 70px">
    <!-- Résumé -->
    <div style="color: #707b81; flex: 1; max-width: 100%">
      <p class="text-lg font-semibold">Résumé</p>
      <div
        style="
          height: 1px;
          background-color: #707b8144;
          margin-top: 5px;
          width: 100%;
        "
      ></div>
      <div
        class="bg-transparent"
        style="
          margin-top: 20px;
          height: 200px;
          border-radius: 12px;
          background-color: #fff;
          padding: 10px 20px;
          overflow: auto;
        "
      >
        <p style="color: #707b81; text-align: left; margin: 0">
          {{ CONSULTATION.data.resume }}
        </p>
      </div>
    </div>

    <!-- Ordonnance -->
    <div
      style="
        color: #707b81;
        flex: 1;
        font-weight: semi-bold;
        max-width: 100%;
        margin-top: 30px;
      "
    >
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
        "
      >
        <p class="text-lg font-semibold">Ordonnance</p>
      </div>
      <div
        style="
          height: 1px;
          margin-bottom: 40px;
          background-color: #707b8144;
          margin-top: 5px;
          width: 100%;
        "
      ></div>

      <!-- ORDONNNANNANANANNANCE-->

      <div  class="Ordonnance"    style = "margin-bottom: 100px" >

        <div class="header">
          <div class="hospitalInfo">
            <p>Dr. {{ CONSULTATION.data.medecin }}</p>
          </div>
          <div class="patientInfo">
            <p>
              Alger, le:
              <span>{{
                CONSULTATION.data.ordonnance.date_emission | date
              }}</span>
            </p>
          </div>
        </div>

        <div class="contenu">
          <div class="title">
            <h2 style="font-weight: bold; margin-top: 10px">ORDONNANCE</h2>
          </div>

          <div class="prescriptions-container">
            <!-- Dynamic Rows -->
            <div
              *ngFor="
                let bilan of CONSULTATION.data
                  .bilans_radiologiques_prescription;
                let k = index
              "
              class="prescription-line"
            >
              <p>
                Médicament: <span>{{ CONSULTATION.data.noms[k] }}</span>
              </p>
              <p>
                Dose: <span>{{ CONSULTATION.data.doses[k] }}</span>
              </p>
              <p>
                Instructions:
                <span>{{ CONSULTATION.data.consommations[k] }}</span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bilan Radiologique -->
    <div style="color: #707b81; flex: 1; max-width: 100%; margin-top: 30px">
      <p class="text-lg font-semibold">Bilans Radiologique</p>
      <div
        style="
          height: 1px;
          background-color: #707b8144;
          margin-top: 5px;
          width: 100%;
        "
      ></div>
      <div
      class="consultation-container"
      style="
        margin: 20px auto; /* Center horizontally */
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 12px;
        width: 100%; /* Limit the width for centering */
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); /* Add shadow for better visibility */
      "
    >
        <!-- Header -->
        <div
          class="header-grid"
          style="
            display: grid;
            grid-template-columns: 2fr 2fr 2fr;
            gap: 15px;
            font-weight: bold;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
            text-align: center;
            justify-items: center;
          "
        >
          <div>PRESCRIPTION MEDECIN</div>
          <div>COMPTE RENDU RADIOLOGUE</div>
          <div>BILAN RADIOGRAPHIE</div>
        </div>

        <!-- Data Rows (Dynamic Version) -->
        <div
          class="consultation-row"
          *ngFor="
            let bilan of CONSULTATION.data.bilans_radiologiques_prescription;
            let i = index
          "
        >
        <div style="text-align: center">
          <p>
            {{
              CONSULTATION.data.bilans_radiologiques_prescription[i] ||
                "Aucun résultat disponible"
            }}
          </p>
        </div>

        <div style="text-align: center">
          <p>
            {{
              CONSULTATION.data.bilans_radiologiques_compte_rendu[i] ||
                "Aucun résultat disponible"
            }}
          </p>
        </div>

          <div style="text-align: center">
            <button class="download-button" (click)="getImageRadio(i)">Radiographie</button>
          </div>
        </div>
      </div>
      <!-- Bilan Biologique -->
      <!-- Bilan Biologique -->

      <div style="color: #707b81; flex: 1; max-width: 100%; margin-top: 30px">
        <p class="text-lg font-semibold">Bilans Biologique</p>
        <div
          style="
            height: 1px;
            background-color: #707b8144;
            margin-top: 5px;
            width: 100%;
          "
        ></div>
        <div
          class="consultation-container"
          style="
            margin: 20px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 12px;
          "
        >
          <!-- Header -->
          <div
            class="header-grid"
            style="
              display: grid;
              grid-template-columns: 2fr 2fr;
              gap: 80px;
              font-weight: bold;
              padding-bottom: 10px;
              border-bottom: 1px solid #ddd;
              text-align: center;
            "
          >
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: center;
              "
            >
              PRESCRIPTION MEDECIN
            </div>
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: center;
              "
            >
              RESULTATS
            </div>
          </div>

          <!-- Data Rows -->
          <div
            class="consultation-row"
            *ngFor="
              let bilan of CONSULTATION.data.bilans_biologiques_prescription;
              let j = index
            "
            style="
              display: grid;
              grid-template-columns: 2fr 2fr;
              gap: 80px;
              align-items: center;
              padding: 10px 0;
              border-bottom: 1px solid #ddd; /* Optional for row separation */
            "
          >
            <div style="text-align: center">
              <p>
                {{
                  CONSULTATION.data.bilans_biologiques_prescription[j] ||
                    "Aucun résultat disponible"
                }}
              </p>
            </div>
            <div style="text-align: center">
              {{
                CONSULTATION.data.bilans_biologiques_resultat[j] ||
                  "Aucun résultat disponible"
              }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>